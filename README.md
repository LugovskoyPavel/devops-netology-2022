Домашнее задание к занятию "6.1. Типы и структура СУБД"


Задача 1
Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

Электронные чеки в json виде
Склады и автомобильные дороги для логистической компании
Генеалогические деревья
Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
Отношения клиент-покупка для интернет-магазина
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.
------------------------------------------------------------------------------------------------------------------------------------------------------------------
Ответ: 
1. MongoDB - система управления базами данных, которая работает с документоориентированной моделью данных. Отличто подойдет для json файлов;
2. PostgreSQL - позволит качественно работать с юольшим объёмом данных, при этом не тратя дополнительных ресурсов. Если ресурсов не жалко, то я бы взял MS Sql, для большей надежности;
3. Dgraph - для этих целей я бы взял графовую БД. Вместо сопоставления связей с таблицами и внешними ключами, графовые базы данных устанавливают связи, используя узлы, рёбра и свойства. Очень подойдёт для гинеалогического дерева;
4. Redis - СУБД системы ключ-значение, есть параметр Time-To-Live, время жизни запси. Идиальный вариант для этого;
5. MySql самая популярная БД для интернет-магазинов. Удобно работать с php и PMA.
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Задача 2
Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

Данные записываются на все узлы с задержкой до часа (асинхронная запись)
При сетевых сбоях, система может разделиться на 2 раздельных кластера
Система может не прислать корректный ответ или сбросить соединение
А согласно PACELC-теореме, как бы вы классифицировали данные реализации?
-----------------------------------------------------------------------------------------------------------------------------------------------------------------
Ответ:
1. CAP - , PACEL - ;
2. CAP - , PACEL - ;
3. CAP - , PACEL - ;
4. CAP - , PACEL - .
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Задача 3
Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?
----------------------------------------------------------------------------------------------------------------------------------------------------------------
Ответ: Нет. Если отталкиваться от четкого понятия этих принципов работы БД. Основное различие этих принципов работы БД происходит из понятия изоляция транзакции. То есть при четком соблюдении принципа изоляции - принципа последовательного изменения какого-то значения в БД невозможно использование принципа BASE - базовая доступность. BASE - это принцип быстроты работы, при усечении принципов полноты, качества и достоверности информации хранимой на текущий момент в БД. ACID - наоборот четко отражает требование к достоверности информации хранимой в БД, заменяя время доступа на качество данных.
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Задача 4
Вам дали задачу написать системное решение, основой которого бы послужили:

фиксация некоторых значений с временем жизни
реакция на истечение таймаута
Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора данной системы?
----------------------------------------------------------------------------------------------------------------------------------------------------------------
Ответ: Pub/sub, представляет собой асинхронный метод связи между сервисами, используемый в бессерверных архитектурах и архитектурах микросервисов, такой метод использует Redis через ReactPHP и реализованный под него клиент Redis. Этот механизм позволяет нам подписавшись на определенный канал получать, например, от издателя команды, и выполнять их с помощью скрипта.
Минусы: 
* Если издатель по каким-либо причинам выходит из строя, то он теряет всех своих подписчиков
* Издателю необходимо знать точный адрес всех его подписчиков
* Издатель может перегрузить работой своих подписчиков, если данные публикуются быстрее, чем обрабатываются
* Сообщение удаляется из буфера издателя сразу после публикации, не зависимо от того, какому числу подписчиков оно доставлено и как быстро те сумели обработать это сообщение.
* Все подписчики получат сообщение одновременно. Подписчики сами должны как-то между собой согласовывать порядок обработки одно и того же сообщения.
* Нет встроенного механизма подтверждения успешной обработки сообщения подписчиком. Если подписчик получил сообщение и свалился во время обработки, то издатель об этом не узнает.
