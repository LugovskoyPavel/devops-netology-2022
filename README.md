Задача 1
Дайте письменые ответы на следующие вопросы:

В чём отличие режимов работы сервисов в Docker Swarm кластере: replication и global?
Какой алгоритм выбора лидера используется в Docker Swarm кластере?
Что такое Overlay Network?

Ответ: Replication - позволяет запустить указанное число контейнеров сервиса на доступных нодах
global - ттлько один экземпляр сервиса будет запущен на доступных нодах

В качестве алгоритма выбора используется - алгоритм поддержания распределенного консенсуса (Ralf) Этот алгоритм предполагает три типа состояния нода: ведомый, кандидат и лидер. Лидера кластера мы назначаем при создании кластера, в дальнейшем его роль, в случае выключения, занимает нода со статусом кандидат, который опрашивает другие ноды в кластере согласны ли они с его ролью лидер и становиться лидер. В дальнейшем лидер через установленный промежуток времени отправляет пакеты всем нодам в кластере подтверждая свой статус, как только он перестаёт посылать эти пакеты инициируется новые выборы лидера. Кандидатом становиться та нода, которая первая прошла время, выделяемое для получеия подтверждающего пакета от лидера, то есть поняла, что лидера нет. В случае если две ноды одновременно объявляют себя кандидатом - выборы лидера повторяются снова по тому же алгоритму.

Overlay Network - это внутренняя частная сеть Docker Swarm, которая обеспечивает и облегчает обмен данными между сервисом Docker Swarm и контейнерами, или контейнерами между собой


Задача 2
Создать ваш первый Docker Swarm кластер в Яндекс.Облаке

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:

docker node ls

Скриншот прилагается


Задача 3
Создать ваш первый, готовый к боевой эксплуатации кластер мониторинга, состоящий из стека микросервисов.

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:

docker service ls

Скриншот прилагается

Задача 4
Выполнить на лидере Docker Swarm кластера команду (указанную ниже) и дать письменное описание её функционала, что она делает и зачем она нужна:

# см.документацию: https://docs.docker.com/engine/swarm/swarm_manager_locking/
docker swarm update --autolock=true

При перезапуске Docker в память каждого управляющего узла загружается как ключ TLS, используемый для шифрования связи между узлами нодами, так и ключ, используемый для шифрования и расшифровки журналов Raft на диске.
Начиная с Docker 1.13 появилась возможность защитить ключ взаимного шифрования TLS и ключ, используемый для шифрования и расшифровки журналов Raft, позволяя вам стать владельцем этих ключей и требовать ручной разблокировки менеджеров. Эта функция называется автоблокировкой. Можно установить значие true, false.



Задача 4 (*)
Выполнить на лидере Docker Swarm кластера команду (указанную ниже) и дать письменное описание её функционала, что она делает и зачем она нужна:

# см.документацию: https://docs.docker.com/engine/swarm/swarm_manager_locking/
docker swarm update --autolock=true
