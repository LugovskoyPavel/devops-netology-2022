# Домашнее задание к занятию «Компоненты Kubernetes»

------

### Задание. Необходимо определить требуемые ресурсы
Известно, что проекту нужны база данных, система кеширования, а само приложение состоит из бекенда и фронтенда. Опишите, какие ресурсы нужны, если известно:

1. Необходимо упаковать приложение в чарт для деплоя в разные окружения. 
2. База данных должна быть отказоустойчивой. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии. 
3. Кеш должен быть отказоустойчивый. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии. 
4. Фронтенд обрабатывает внешние запросы быстро, отдавая статику. Потребляет не более 50 МБ ОЗУ на каждый экземпляр, 0.2 ядра. 5 копий. 
5. Бекенд потребляет 600 МБ ОЗУ и по 1 ядру на копию. 10 копий.

----
Ответ:

1.  Сначала существуют минимальные требования к кластеру Kubernetes

— Процессор: Kubernetes можно запустить на серверах с различными процессорами, но рекомендуется использовать серверы с не менее чем 2-мя ядрами.
— Оперативная память: минимальное количество ОЗУ на каждом сервере должно быть не менее 2 ГБ, но рекомендуется использовать серверы с 4 ГБ или более.

2. Расчёт для запрашиваемого приложения с учётом запаса в 40%

Колличество ядер = БД (1*3) + Кэш(1*3)+ Фронтенд (0,2*5) + Бэкенд (1*10) = 3+3+1+10 = 17 ядер *1,4 = 24 ядра

Количество оперативной памяти = БД (4*3) + Кэш(4*3)+ Фронтенд (50мб*5) + Бэкенд (600мб*10) = 12+12+0,25+6 = 30,25 *1,4 = 43 Гб

3. Расчёт для рабочей ноды:

Нам потребуется три рабочие ноды, расчёт на одну ноду

Колличество ядер = 24 ядра / 3 = 7 ядер + 2 ядра на работу системных компонентов = 9 ядер

Количество оперативной памяти = 43 Гб / 3 = 15 ГБ + 2 на работу ноды = 17 ГБ

----

